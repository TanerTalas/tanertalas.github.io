(() => {
    const I18N = {
        EN: {
            meta: {
                title: "Taner Talas | Portfolio",
                description: "This is the personal portfolio website of Taner Talas, showcasing user interface-focused projects and front end development work."
            },
            nav: {
                menu: {
                    home: "Home",
                    about: "About",
                    services: "Services",
                    projects: "Projects",
                    contact: "Contact",
                    languageButton: {
                        language: "Language",
                        turkish: "Turkish",
                        english: "English"
                    }
                }
            },
            header: {
                h1: "Hello, I'm Taner",
                p: "I'm constantly improving myself by learning new things. Moreover, I designed and coded this website entirely myself!",
                button: "Continue"
            },
            about: {
                h2: "About Me",
                fh3: "Me in Short",
                fp: "I’m a second-year (final-year) Computer Programming student at Istanbul Gedik University. I have a strong interest in front-end development and prefer to learn things in depth rather than just on the surface. At the moment, I’m focused on becoming highly skilled in front-end development, with the long-term goal of working in full-stack development and artificial intelligence.",
                sh3: "My Working Style and Skills",
                sp: "Although I may not seem to be using many resources right now, I develop well-crafted projects by paying attention to design principles and writing clean, careful, and organized code. I make sure to fully understand any programming language or tool I’m learning before moving on to other topics."
            },
            service: {
                h2: "My Services",
                h3: "Services I Can Provide",
                fh4: "Front End Development",
                fp: "I focus on creating projects that are intuitive for users, with clear UI and a smooth UX experience. I also place great importance on writing code that is organized, clean, and easy to understand.",
                h5: "I Use",
                sh4: "Design Rules",
                sp: "I don’t just write code; I aim to enhance the user experience by following design principles. I create or research SVGs and incorporate them into my websites using the programming languages and technologies I’ve learned, all to improve the user experience."
            },
            projects: {
                h2: "My Projects",
                h3: "A Few of My Projects",
                projects: {
                    project1: {
                        h4: "Restaurant Promotion",
                        p: "This project showcases a modern café website concept inspired by contemporary French design."
                    },
                    project2: {
                        h4: "Mondrian CSS",
                        p: "Front end project featuring CSS recreations of Mondrian paintings, focusing on layout, responsive design, and artistic interpretation."
                    },
                    codeAndInfo: "Code & More Info >",
                    liveWebsite: "Live Website"
                },
                seeAllProjects: "See All Projects"
            },
            contact: {
                h2: "Contact Me",
                h3: "Get in Touch",
                p: "You can reach out to me using the contact information below. Feel free to write just to say “hi,” or come by in person and expect me to burst out of the door like crazy (just kidding).",
                email: "Email",
                adress: "Adress",
                adressp: "Turkey, Istanbul, Tuzla",
                links: "Links"
            },
            footer: {
                half1: "Made with",
                half2: "by Taner Talas"
            }
        },
        TR: {
            meta: {
                title: "Taner Talas | Portföy",
                description: "Bu, Taner Talas'ın kullanıcı arayüzü odaklı projelerini ve ön uç geliştirme çalışmalarını sergilediği kişisel portföy web sitesidir."
            },
            nav: {
                menu: {
                    home: "Ana Sayfa",
                    about: "Hakkında",
                    services: "Hizmetlerim",
                    projects: "Projeler",
                    contact: "İletişim",
                    languageButton: {
                        language: "Dil",
                        turkish: "Türkçe",
                        english: "İngilizce"
                    }
                }
            },
            header: {
                h1: "Merhaba, ben Taner",
                p: "Sürekli yeni şeyler öğrenerek kendimi geliştiriyorum. Üstelik bu web sitesini tamamen kendim tasarlayıp kodladım!",
                button: "Devam Et"
            },
            about: {
                h2: "Hakkımda",
                fh3: "Kısaca Ben",
                fp: "İstanbul Gedik Üniversitesi Bilgisayar Programcılığı bölümünde 2. sınıf (son sınıf) öğrencisiyim. Front-end geliştirme alanına özel bir ilgim var ve bu alanda öğrendiğim konuları yüzeysel bırakmadan, detaylarına inerek öğrenmeye özen gösteriyorum. Şu anda front-end alanında kendimi ileri seviyeye taşımayı hedefliyorum; ilerleyen süreçte ise full-stack geliştirme ve yapay zekâ alanlarında çalışmak istiyorum.",
                sh3: "Çalışma Şeklim ve Becerilerim",
                sp: "Şu an çok fazla kaynak kullanmıyor gibi görünsem de, kullandığım kaynaklarla tasarım kurallarına dikkat ederek, temiz, dikkatli ve düzenli kod yazıyor ve güzel projeler geliştiriyorum. Bir programlama dili veya teknolojide öğrenmem gerekenleri tamamlamadan başka konulara geçmiyorum."
            },
            service: {
                h2: "Hizmetlerim",
                h3: "Sağlayabileceğim Hizmetler",
                fh4: "Front End Geliştirme",
                fp: "Üzerinde çalıştığım projelerin kullanıcıya hitap etmesine, kullanıcıların projeyi kolay anlamasına (UI) ve kullanıcı deneyimine (UX) önem veririm. Projede kullanılan kodların düzenli, temiz ve anlaşılabilir olmasına da büyük önem veririm.",
                h5: "Kullandıklarım",
                sh4: "Dizayn Kuralları",
                sp: "Sadece kod yazmakla kalmam; tasarım kurallarına dikkat ederek kullanıcının deneyimini artırmayı hedeflerim. SVG’ler üretir veya araştırır, öğrendiğim programlama dilleri ve teknolojiler ile web sitelerimde kullanarak kullanıcı deneyimini geliştirmeye çalışırım."
            },
            projects: {
                h2: "Projelerim",
                h3: "Projelerimden Birkaçı",
                projects: {
                    project1: {
                        h4: "Restoran Promosyonu",
                        p: "Bu proje, çağdaş Fransız tasarımından ilham alan modern bir kafe web sitesi konseptini sergiliyor."
                    },
                    project2: {
                        h4: "Mondrian CSS",
                        p: "Mondrian tablolarının CSS ile yeniden oluşturulmuş hallerini içeren, düzen, duyarlı tasarım ve sanatsal yorumlamaya odaklanan front end projesi."
                    },
                    codeAndInfo: "Kodu & Fazlası >",
                    liveWebsite: "Canlı Site"
                },
                seeAllProjects: "Tüm Projeler"
            },
            contact: {
                h2: "Bana Ulaş",
                h3: "İletişime Geç",
                p: "Bana aşağıdaki iletişim bilgilerim üzerinden ulaşabilirsiniz. Sadece “merhaba” demek için bile yazabilirsiniz veya adrese gelip kapımdan deli gibi çıkmamı bekleyebilirsiniz (dalga geçiyorum).",
                email: "E-posta",
                adress: "Adres",
                adressp: "Türkiye, İstanbul, Tuzla",
                links: "Profillerim"
            },
            footer: {
                half1: "Taner Talas tarafından",
                half2: "ile yapıldı"
            }
        }
    };

    const $ = (s) => document.querySelector(s);
    const $$ = (s) => document.querySelectorAll(s);

    const t = (lang, key) =>
        key.split(".").reduce((o, k) => o?.[k], I18N[lang]);

    const applyI18n = (lang) => {
        document.documentElement.lang = lang.toLowerCase();

        document.title = t(lang, "meta.title");
        $('meta[name="description"]')
            ?.setAttribute("content", t(lang, "meta.description"));

        $$("[data-i18n]").forEach(el => {
            el.textContent = t(lang, el.dataset.i18n);
        });

        $$("[data-i18n-placeholder]").forEach(el => {
            el.placeholder = t(lang, el.dataset.i18nPlaceholder);
        });

        $$("[data-i18n-aria-label]").forEach(el => {
            el.setAttribute(
                "aria-label",
                t(lang, el.dataset.i18nAriaLabel)
            );
        });
    };

    const setActiveButton = (lang) => {
        $$(".lang-btn").forEach(btn => {
            btn.classList.toggle("activeLanguage", btn.dataset.lang === lang);
            btn.classList.toggle("nonActiveLanguage", btn.dataset.lang !== lang);
        });
    };

    const setLang = (lang) => {
        localStorage.setItem("lang", lang);
        setActiveButton(lang);
        applyI18n(lang);

        if (window.startTyping) {
            window.startTyping(lang);
        }
    };

    // language buttons
    $$(".lang-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            setLang(btn.dataset.lang);
        });
    });

    // toggle
    $("#languageToggle")?.addEventListener("click", () => {
        $("#languageOptions")?.classList.toggle("open");
    });

    // initial
    setLang(localStorage.getItem("lang") || "EN");
})();